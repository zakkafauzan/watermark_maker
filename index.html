<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Image Watermarker</title>
	<link rel="stylesheet" href="styles.css">
</head>
<body>
	<div class="container">
		<h1>Upload Images</h1>
		<div class="subtitle">Select one or many image files. Drag and drop is supported.</div>

		<div class="panel">
			<label for="file-input" class="dropzone" id="dropzone">
				<div><strong>Drop images here</strong> or click to choose files</div>
				<div class="meta" id="hint">PNG, JPG, JPEG, GIF, WebP • Up to your browser limits</div>
			</label>
			<input class="hidden-input" id="file-input" type="file" accept="image/*" multiple>

			<div class="actions">
				<button class="button" id="pick-btn" type="button">Choose Images</button>
				<button class="button secondary" id="clear-btn" type="button">Clear</button>
			</div>

			<div class="meta" id="summary">No files selected.</div>

			<div class="grid" id="preview"></div>

			<div class="panel" style="margin-top: 16px;">
				<h2 style="margin: 0 0 12px 0; font-size: 18px;">Watermark Settings</h2>
				<div class="controls" id="wm-controls">
					<div class="control-row">
						<div class="control-label">Watermark text</div>
						<div class="control-input" style="display: grid; grid-template-columns: 1fr 140px 140px; gap: 10px;">
							<input type="text" id="wm-text" placeholder="Enter watermark text">
							<select id="wm-font">
								<option value="system-ui" selected>System UI</option>
								<option value="Arial">Arial</option>
								<option value="Georgia">Georgia</option>
								<option value="Times New Roman">Times New Roman</option>
								<option value="Courier New">Courier New</option>
								<option value="Roboto">Roboto</option>
							</select>
							<div class="color-inputs">
								<input type="color" id="wm-color" value="#ffffff" title="Text color">
								<input type="number" id="wm-size" min="6" max="300" value="32" style="width: 84px;" title="Font size (px)">
							</div>
						</div>
					</div>

					<div class="control-row">
						<div class="control-label">Opacity</div>
						<div class="control-input">
							<div class="range-row">
								<input type="range" id="wm-opacity" min="0" max="100" value="100">
								<div class="range-value" id="wm-opacity-value">100%</div>
							</div>
						</div>
					</div>

					<div class="control-row">
						<div class="control-label">Background</div>
						<div class="control-input color-inputs">
							<select id="wm-bg-mode" style="width: 120px; background: #0f1522; border: 1px solid rgba(255,255,255,0.1); border-radius: 8px; padding: 8px 10px; color: var(--text);">
								<option value="none" selected>none</option>
								<option value="color">color</option>
							</select>
							<input type="color" id="wm-bg" value="#000000" title="Background color" style="display: none;">
							<span class="meta">Optional, to improve contrast</span>
						</div>
					</div>

					<div class="control-row">
						<div class="control-label">Repeat</div>
						<div class="control-input">
							<div class="segmented" id="wm-repeat">
								<button type="button" class="option" data-value="x">x-repeat</button>
								<button type="button" class="option" data-value="y">y-repeat</button>
								<button type="button" class="option" data-value="xy">xy-repeat</button>
								<button type="button" class="option selected" data-value="none">no-repeat</button>
							</div>
						</div>
					</div>

					<div class="control-row">
						<div class="control-label">Repeat spacing</div>
						<div class="control-input">
							<div class="color-inputs">
								<input type="number" id="wm-spacing" min="0" max="1000" value="24" style="width: 100px;" title="Spacing between repeats (px)">
								<span class="meta">px gap between repeated texts</span>
							</div>
						</div>
					</div>

					<div class="control-row">
						<div class="control-label">Rotation</div>
						<div class="control-input">
							<div class="range-row">
								<input type="range" id="wm-rotation" min="-360" max="360" value="0">
								<div class="range-value" id="wm-rotation-value">0°</div>
							</div>
						</div>
					</div>
				</div>
			</div>

			<div class="preview-wrapper">
				<div class="actions" style="justify-content: flex-end; margin-bottom: 8px;">
					<button class="button" id="export-zip" type="button">Export ZIP</button>
				</div>
				<canvas id="big-preview"></canvas>
			</div>
		</div>
	</div>

	<script src="https://cdn.jsdelivr.net/npm/jszip@3.10.1/dist/jszip.min.js"></script>
	<script src="app.js"></script>
</body>
</html>
